<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ray White - Database Reactivation | AWE2M8</title>
    <link rel="stylesheet" href="../../css/demo-styles.css">
</head>

<body>
    <div class="header">
        <a href="https://awe2m8.ai" class="logo">
            <img src="../../images/AWE2M8Logo.png" alt="AWE2M8.ai">
        </a>
    </div>

    <div class="hero">
        <h1 id="hero-title">üè† Real Estate Database Reactivation</h1>
        <p id="hero-description">Loading...</p>
    </div>

    <div class="three-column-grid">
        <!-- Column 1: How It Works -->
        <div class="column-box">
            <h3>How It Works</h3>
            <p id="how-it-works">Loading...</p>
        </div>

        <!-- Column 2: Video -->
        <div class="column-box">
            <h2>Watch It In Action</h2>
            <div class="video-in-column" id="video-container">
                <div
                    style="background: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2em; height: 100%; border-radius: 16px;">
                    VIDEO LOADING...
                </div>
            </div>
        </div>

        <!-- Column 3: Compact Voice AI + SMS Demo -->
        <div class="column-box" style="display: flex; flex-direction: column; gap: 15px; padding: 20px;">

            <!-- Voice AI Section - Compact -->
            <div
                style="flex: 1; display: flex; flex-direction: column; padding-bottom: 15px; border-bottom: 2px solid rgba(255, 255, 255, 0.1);">
                <h3 style="margin: 0 0 10px 0; font-size: 1.1em; color: #fff;">üéôÔ∏è Voice AI</h3>
                <p id="cta-description" style="margin: 0 0 12px 0; font-size: 0.85em; opacity: 0.7; line-height: 1.4;">
                    Talk to our database reactivation AI
                </p>
                <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                    <iframe id="demo-iframe" src="" allow="microphone"
                        style="width: 100%; max-width: 280px; height: 160px; border: none; border-radius: 8px;">
                    </iframe>
                </div>
            </div>

            <!-- SMS Demo Section - Compact -->
            <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; text-align: center;">
                <h3 style="margin: 0 0 8px 0; font-size: 1.1em; color: #fff;">üì± SMS Demo</h3>
                <p style="margin: 0 0 15px 0; font-size: 0.85em; opacity: 0.7; line-height: 1.4;">
                    See how AI reactivates your database
                </p>
                <a href="#" id="sms-demo-link" target="_blank" rel="noopener noreferrer"
                    style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9em; transition: transform 0.2s;">
                    Start Conversation ‚Üí
                </a>
            </div>
        </div>
    </div>

    <div class="full-width-section">
        <div class="column-box">
            <h3>Why This Matters for Real Estate</h3>
            <p id="why-it-matters">Loading...</p>
        </div>
    </div>

    <script>
        fetch('../../content/content.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Content file not found');
                }
                return response.json();
            })
            .then(data => {
                const content = data.partners.rayWhiteUpperNorthShore;

                // Update page content
                document.getElementById('hero-title').innerHTML = `${content.emoji} ${content.title}`;
                document.getElementById('hero-description').textContent = content.heroDescription;
                document.getElementById('how-it-works').textContent = content.howItWorks;
                document.getElementById('why-it-matters').innerHTML = content.whyItMatters;
                document.getElementById('cta-description').textContent = content.ctaDescription || 'Talk to our database reactivation AI';

                // Load Voice AI iframe
                const voiceIframe = document.getElementById('demo-iframe');
                if (content.iframeUrl && content.iframeUrl.trim() !== '') {
                    voiceIframe.src = content.iframeUrl;
                } else {
                    voiceIframe.parentElement.innerHTML = '<div style="color: #ff6b6b; padding: 20px; text-align: center; font-size: 0.9em;">Voice AI URL not configured</div>';
                }

                // Load SMS demo URL
                const smsLink = document.getElementById('sms-demo-link');
                if (content.smsAgentDemoUrl && content.smsAgentDemoUrl.trim() !== '') {
                    smsLink.href = content.smsAgentDemoUrl;
                } else {
                    smsLink.href = '#';
                    smsLink.style.opacity = '0.5';
                    smsLink.style.cursor = 'not-allowed';
                    smsLink.onclick = (e) => {
                        e.preventDefault();
                        alert('SMS Demo URL not configured yet');
                    };
                }

                // Load video URL
                if (content.videoUrl && content.videoUrl.trim() !== '') {
                    document.getElementById('video-container').innerHTML = `
                        <iframe 
                            src="${content.videoUrl}" 
                            allow="autoplay"
                            style="width: 100%; height: 100%; border: none; border-radius: 16px;"
                        ></iframe>
                    `;
                }

                // Update page title
                document.title = content.pageTitle || 'Ray White Demo - AWE2M8';
            })
            .catch(error => {
                console.error('Error loading content:', error);
                document.getElementById('hero-description').textContent = 'Error loading content.';
            });

        // Handle iframe microphone permissions
        const frame = document.getElementById('demo-iframe');
        frame.addEventListener('load', () => {
            navigator.permissions.query({ name: 'microphone' })
                .then(result => {
                    if (result.state === 'granted') {
                        console.log('Microphone access granted');
                    }
                })
                .catch(err => console.log('Microphone permission check unavailable'));
        });
    </script>
</body>

</html>